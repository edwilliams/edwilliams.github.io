<!doctype html>
<html lang="en">
<head>
    <title>Import Object into Three.JS</title>
    <meta charset="utf-8">
</head>
<body style="margin: 0;">

    <script src="js/three.js"></script>
    <script src="js/OrbitControls.js"></script>

<script>

var Import3DRender = (function() {

    var SCENE, CAMERA, RENDERER;

    function init() {

        config();
        events();
        loadObject();
        animate();

    }

    function config() {

        // create the SCENE and RENDERER. set the size and add to DOM.
        SCENE = new THREE.Scene();
        RENDERER = new THREE.WebGLRenderer({antialias:true});
        RENDERER.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(RENDERER.domElement);

        lights();

        camera();

        // set the background color of the SCENE.
        RENDERER.setClearColor(0x000000, 1);

        // add orbitcontrols so that we can pan around with the mouse.
        controls = new THREE.OrbitControls(CAMERA, RENDERER.domElement);

    }

    function lights() {

        // create a light, set its position, and add it to the SCENE.
        var light = new THREE.PointLight(0xffffff);
        light.position.set( -100, 200, 100 );
        SCENE.add(light);

    }

    function camera() {

        // create a CAMERA, zoom it out from the model a bit, and add it to the SCENE.
        CAMERA = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 20000);
        CAMERA.position.set(0, 5, 0);
        SCENE.add(CAMERA);

    }

    function events() {

        // create an event listener that resizes the RENDERER with the browser window.
        window.addEventListener('resize', function() {
            RENDERER.setSize(window.innerWidth, window.innerHeight);
            CAMERA.aspect = window.innerWidth / window.innerHeight;
            CAMERA.updateProjectionMatrix();
        });

    }

    function loadObject() {

        // load in the mesh and add it to the SCENE.
        var loader = new THREE.JSONLoader();
        loader.load( 'chair.json', function(geometry) {
            var material = new THREE.MeshLambertMaterial({color: 0x0000FF});
            var mesh = new THREE.Mesh(geometry, material);
            SCENE.add(mesh);
        });

    }

    // renders the SCENE and updates the render as needed.
    function animate() {

        requestAnimationFrame(animate);

        // render the SCENE.
        RENDERER.render(SCENE, CAMERA);
        controls.update();

    }

    init();

})();

</script>

</body>
</html>

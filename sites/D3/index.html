<!-- http://alignedleft.com/tutorials/d3/chaining-methods -->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>D3 Test</title>
	<script type="text/javascript" src="js/d3.js"></script>
</head>
<body>

<style>
.bar {
    display: inline-block;
    width: 20px;
    margin-right: 1px;
}
</style>

<script type="text/javascript">

var dataset = [];
for (var i = 0; i < 25; i++) {
    var newNumber = Math.round( Math.random() * 30 );
    dataset.push(newNumber);
}

d3.select("body")
	.selectAll("p")
    .data(dataset)
    .enter()
    .append("p")
    // .text( 'stuff' )
    .attr('class', 'bar')
    .style('background-color', function(d) {
	    if (d > 15) {
	        return "red";
	    } else {
	        return "black";
	    }
	})
	.style( 'height', function(d) {
		var barHeight = d * 5;
        return barHeight + 'px';
	});

</script>
</body>
</html>
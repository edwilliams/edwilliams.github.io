<!-- https://facebook.github.io/react/docs/tutorial.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>React Tutorial</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.5/marked.min.js"></script>
</head>
<body>

<div id="content"></div>

<script type="text/babel">

var data = [
    {id: 1, genre: "reggae", artist: "Bob Marley", text: "Trenchtown Rock"},
    {id: 2, genre: "alt", artist: "Tom Waits", text: "Swordfish Trombone"}
];

var Record = React.createClass({
    render: function() {
        return (
            <div className="record">
                <h3 className="record-genre">
                    Genre: {this.props.genre}
                </h3>
                <h2 className="record-artist">
                    Artist: {this.props.artist}
                </h2>
                {this.props.children}
            </div>
        );
    }
});

var RecordList = React.createClass({
    render: function() {
        var recordNodes = this.props.data.map(function(record) {
            return (
                <Record artist={record.artist} genre={record.genre} key={record.id}>
                    {record.text}
                </Record>
            );
        });
        return (
            <div className="recordList">
                {recordNodes}
            </div>
        );
    }
});

var RecordBox = React.createClass({displayName: 'RecordBox',
    render: function() {
        return (
            <div className="recordBox">
                <h1>Record</h1>
                <RecordList data={this.props.data} />
            </div>
        );
    }
});

ReactDOM.render(
    <RecordBox data={data} />,
    document.getElementById('content')
);
</script>
</body>
</html>